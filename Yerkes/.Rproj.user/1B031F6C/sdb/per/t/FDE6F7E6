{
    "contents" : "# extracting DoB from hematology spreadsheet\n\n\n\nbirthday <- as.double(hematology$date1) - (365*as.double(hematology$age))\n\n\nhematology$date1[1] - as.difftime(hematology$age[1], unit = \"years\")\n\nas.Date(hematology$date1[2],\"%d/%m/%y%y\") - days(as.integer(365*as.double(as.character(hematology$age[2]))))\n\nbirthday <- as.Date(hematology$date1,\"%d/%m/%y%y\") - days(as.integer(365*as.double(as.character(hematology$age))))\n\n\nwrite.csv(data.frame(hematology$chimp,birthday),'hemExtNames.csv')\n\n\n---\n  \ncolnames(const) = c('chimp','DoB')\n  \n  \n  const <- NULL\n# some vars like personality, parentage, DoB,\n# stay constant, no matter the measurement point.\nnames <- read.csv(\"matchNameBDates.csv\")\nconst = names$final\n\n# removes names with no DoB (i.e. NAs)\nconst = const[!is.na(names$DoB)]\n\n# get all the DoB's in the same format\nconst$DoB = names$DoB[!is.na(names$DoB)]\n# i.e. dd/mm/yyyy\nconst$DoB = as.Date(const$DoB, format=\"%d/%m/%Y\")\n\n### coercing the composite full data file to remove junk \nfinal_data$chimp %in% const$names # this logically select the values common to both names lists\nsData <- final_data[final_data$chimp %in% const$names,]\n\n# parentage\n# merging dame, sire; maternity, paternity\n\n\n# momage = the age of the mother at the chimp's birth\nconst$MomAge = sData$momage\n\n# group size\nconst$GroupSize <- ifelse(!is.na(sData$Group.size.x), sData$Group.size.x,\n                          ifelse(!is.na(sData$Group.size.y), sData$Group.size.y, NA))           \n\n# sex\nconst$sex <- sData$sex\n\n# personality - individual adjectives\n# const$fear  <- sData$fear.z\n# const$pers   <- sData$pers.z \n# const$caut   <- sData$caut.z \n# const$stbl   <- sData$stbl.z \n# const$aut   <- sData$aut.z \n# const$stngy  <- sData$stngy.z\n# const$jeals  <- sData$jeals.z\n# const$reckl  <- sData$reckl.z\n# const$soc   <- sData$soc.z \n# const$tim   <- sData$tim.z \n# const$symp  <-  sData$symp.z \n# const$play  <-  sData$play.z \n# const$sol  <-  sData$sol.z \n# const$actv   <- sData$actv.z \n# const$help   <- sData$help.z \n# const$buly   <- sData$buly.z \n# const$aggr  <-  sData$aggr.z \n# const$manp  <-  sData$manp.z \n# const$gntl  <-  sData$gntl.z \n# const$affc   <- sData$affc.z \n# const$exct   <- sData$exct.z \n# const$impl   <- sData$impl.z \n# const$inqs   <- sData$inqs.z \n# const$subm   <- sData$subm.z \n# const$depd   <- sData$depd.z \n# const$irri   <- sData$irri.z \n# const$pred   <- sData$pred.z \n# const$decs   <- sData$decs.z \n# const$depr   <- sData$depr.z \n# const$sens   <- sData$sens.z \n# const$defn   <- sData$defn.z \n# const$intll  <- sData$intll.z\n# const$prot   <- sData$prot.z \n# const$invt   <- sData$invt.z \n# const$clmy   <- sData$clmy.z \n# const$errc   <- sData$errc.z \n# const$frdy   <- sData$frdy.z \n# const$lazy   <- sData$lazy.z \n# const$dsor   <- sData$dsor.z \n# const$unem   <- sData$unem.z \n# const$imit   <- sData$imit.z \n# const$indp <-  sData$indp.z\n\nconst$fear  <- apply(cbind(sData$fear.x,sData$fear.y),1,mean,na.rm=TRUE)\nconst$dom <- apply(cbind(sData$dom.x,sData$dom.y),1,mean,na.rm=TRUE)\nconst$pers  <- apply(cbind(sData$pers.x,sData$pers.y),1,mean,na.rm=TRUE)\nconst$caut  <- apply(cbind(sData$caut.x,sData$caut.y),1,mean,na.rm=TRUE)\nconst$stbl  <- apply(cbind(sData$stbl.x,sData$stbl.y),1,mean,na.rm=TRUE)\nconst$aut   <- apply(cbind(sData$aut.x,sData$aut.y),1,mean,na.rm=TRUE)\nconst$stngy  <- apply(cbind(sData$stngy.x,sData$stngy.y),1,mean,na.rm=TRUE)\nconst$jeals  <- apply(cbind(sData$jeals.x,sData$jeals.y),1,mean,na.rm=TRUE)\nconst$reckl  <- apply(cbind(sData$reckl.x,sData$reckl.y),1,mean,na.rm=TRUE)\nconst$soc   <- apply(cbind(sData$soc.x,sData$soc.y),1,mean,na.rm=TRUE)\nconst$tim   <- apply(cbind(sData$tim.x,sData$tim.y),1,mean,na.rm=TRUE)\nconst$symp  <- apply(cbind(sData$symp.x,sData$symp.y),1,mean,na.rm=TRUE)\nconst$play <- apply(cbind(sData$play.x,sData$play.y),1,mean,na.rm=TRUE)\nconst$sol   <- apply(cbind(sData$sol.x,sData$sol.y),1,mean,na.rm=TRUE)\nconst$actv  <- apply(cbind(sData$actv.x,sData$actv.y),1,mean,na.rm=TRUE)\nconst$help  <- apply(cbind(sData$help.x,sData$help.y),1,mean,na.rm=TRUE)\nconst$buly  <- apply(cbind(sData$buly.x,sData$buly.y),1,mean,na.rm=TRUE)\nconst$aggr  <- apply(cbind(sData$aggr.x,sData$aggr.y),1,mean,na.rm=TRUE)\nconst$manp  <- apply(cbind(sData$manp.x,sData$manp.y),1,mean,na.rm=TRUE)\nconst$gntl  <- apply(cbind(sData$gntl.x,sData$gntl.y),1,mean,na.rm=TRUE)\nconst$affc  <- apply(cbind(sData$affc.x,sData$affc.y),1,mean,na.rm=TRUE)\nconst$exct  <- apply(cbind(sData$exct.x,sData$exct.y),1,mean,na.rm=TRUE)\nconst$impl  <- apply(cbind(sData$impl.x,sData$impl.y),1,mean,na.rm=TRUE)\nconst$inqs  <- apply(cbind(sData$inqs.x,sData$inqs.y),1,mean,na.rm=TRUE)\nconst$subm  <- apply(cbind(sData$subm.x,sData$subm.y),1,mean,na.rm=TRUE)\nconst$depd  <- apply(cbind(sData$depd.x,sData$depd.y),1,mean,na.rm=TRUE)\nconst$irri  <- apply(cbind(sData$irri.x,sData$irri.y),1,mean,na.rm=TRUE)\nconst$pred  <- apply(cbind(sData$pred.x,sData$pred.y),1,mean,na.rm=TRUE)\nconst$decs  <- apply(cbind(sData$decs.x,sData$decs.y),1,mean,na.rm=TRUE)\nconst$depr  <- apply(cbind(sData$depr.x,sData$depr.y),1,mean,na.rm=TRUE)\nconst$sens  <- apply(cbind(sData$sens.x,sData$sens.y),1,mean,na.rm=TRUE)\nconst$defn  <- apply(cbind(sData$defn.x,sData$defn.y),1,mean,na.rm=TRUE)\nconst$intll  <- apply(cbind(sData$intll.x,sData$intll.y),1,mean,na.rm=TRUE)\nconst$prot  <- apply(cbind(sData$prot.x,sData$prot.y),1,mean,na.rm=TRUE)\nconst$invt  <- apply(cbind(sData$invt.x,sData$invt.y),1,mean,na.rm=TRUE)\nconst$clmy  <- apply(cbind(sData$clmy.x,sData$clmy.y),1,mean,na.rm=TRUE)\nconst$errc  <- apply(cbind(sData$errc.x,sData$errc.y),1,mean,na.rm=TRUE)\nconst$frdy  <- apply(cbind(sData$frdy.x,sData$frdy.y),1,mean,na.rm=TRUE)\nconst$lazy  <- apply(cbind(sData$lazy.x,sData$lazy.y),1,mean,na.rm=TRUE)\nconst$dsor  <- apply(cbind(sData$dsor.x,sData$dsor.y),1,mean,na.rm=TRUE)\nconst$unem  <- apply(cbind(sData$unem.x,sData$unem.y),1,mean,na.rm=TRUE)\nconst$imit <- apply(cbind(sData$imit.x,sData$imit.y),1,mean,na.rm=TRUE)\nconst$indp <- apply(cbind(sData$indp.x,sData$indp.y),1,mean,na.rm=TRUE)\n\n\n\n# domains\nconst$chimp_Dom_CZ <-\n  (const$dom-const$subm-const$depd+const$indp-const$fear+const$decs-const$tim-const$caut+\n     const$intll+const$pers+const$buly+const$stngy+40)/12\n\nconst$chimp_Ext_CZ <-\n  (-const$sol-const$lazy+const$actv+const$play+const$soc-const$depr+const$frdy+const$affc+const$imit+24)/9\n\nconst$chimp_Con_CZ <-\n  (-const$impl-const$defn-const$reckl-const$errc-const$irri+const$pred-const$aggr-const$jeals-const$dsor+64)/9\n\nconst$chimp_Agr_CZ <-\n  (const$symp+const$help+const$sens+const$prot+const$gntl)/5\n\nconst$chimp_Neu_CZ <-\n  (-const$stbl+const$exct-const$unem+16)/3\n\nconst$chimp_Opn_CZ <-\n  (const$inqs+const$invt)/2\n\n",
    "created" : 1405265238064.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3515665163",
    "id" : "FDE6F7E6",
    "lastKnownWriteTime" : 1406731698,
    "path" : "C:/Users/s1229179/Dropbox/R/blood chemistry/Drew version/temp.R",
    "project_path" : "Drew version/temp.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}