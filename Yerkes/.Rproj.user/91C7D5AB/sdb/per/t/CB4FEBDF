{
    "collab_server" : "",
    "contents" : "### take the MIDJA combined file and analyze it\n\n#midja_c <- read.table()\n\n# vars of interest\n# MIDJA_IDS\n# J2CAGE - Age at clinic visit\n# J1SQ1 - \"gender\" (1 = male, 2 = female)\n# \n# J1SAGENC\n# J1SEXTRA\n# J1SCONS2\n# J1SOPEN\n# J1SAGREE\n# J1SNEURO\n#\n# J2CBMI\n\n# J2BCHOL\n# J2BSCREA\n# J2CTRIG\n# \n# J2CBPS23\n# J2CBPD23\n# change these in MIDUS, too\n\n# outliers?\nmidja_c$J1SAGENC[midja_c$J1SAGENC==8]<-NA\nmidja_c$J1SEXTRA[midja_c$J1SEXTRA==8]<-NA\nmidja_c$J1SCONS2[midja_c$J1SCONS2==8]<-NA\nmidja_c$J1SOPEN[midja_c$J1SOPEN==8]<-NA\nmidja_c$J1SAGREE[midja_c$J1SAGREE==8]<-NA\nmidja_c$J1SNEURO[midja_c$J1SNEURO==8]<-NA\nmidja_c$J2CTRIG[outliers(midja_c$J2CTRIG,3.5)]<-NA\n\nmidja_c$J1SG6A[midja_c$J1SG6A==8]<-NA\nmidja_c$J1SG6B[midja_c$J1SG6B==8]<-NA\nmidja_c$J1SG6C[midja_c$J1SG6C==8]<-NA\nmidja_c$J1SG6D[midja_c$J1SG6D==8]<-NA\nmidja_c$J1SG6E[midja_c$J1SG6E==8]<-NA\nmidja_c$J1SG6F[midja_c$J1SG6F==8]<-NA\nmidja_c$J1SG6G[midja_c$J1SG6G==8]<-NA\nmidja_c$J1SG6H[midja_c$J1SG6H==8]<-NA\nmidja_c$J1SG6I[midja_c$J1SG6I==8]<-NA\nmidja_c$J1SG6J[midja_c$J1SG6J==8]<-NA\nmidja_c$J1SG6K[midja_c$J1SG6K==8]<-NA\nmidja_c$J1SG6L[midja_c$J1SG6L==8]<-NA\nmidja_c$J1SG6M[midja_c$J1SG6M==8]<-NA\nmidja_c$J1SG6N[midja_c$J1SG6N==8]<-NA\nmidja_c$J1SG6O[midja_c$J1SG6O==8]<-NA\nmidja_c$J1SG6P[midja_c$J1SG6P==8]<-NA\nmidja_c$J1SG6Q[midja_c$J1SG6Q==8]<-NA\nmidja_c$J1SG6R[midja_c$J1SG6R==8]<-NA\nmidja_c$J1SG6S[midja_c$J1SG6S==8]<-NA\nmidja_c$J1SG6T[midja_c$J1SG6T==8]<-NA\nmidja_c$J1SG6U[midja_c$J1SG6U==8]<-NA\nmidja_c$J1SG6V[midja_c$J1SG6V==8]<-NA\nmidja_c$J1SG6W[midja_c$J1SG6W==8]<-NA\nmidja_c$J1SG6X[midja_c$J1SG6X==8]<-NA\nmidja_c$J1SG6Y[midja_c$J1SG6Y==8]<-NA\nmidja_c$J1SG6Z[midja_c$J1SG6Z==8]<-NA\nmidja_c$J1SG6AA[midja_c$J1SG6AA==8]<-NA\nmidja_c$J1SG6BB[midja_c$J1SG6BB==8]<-NA\nmidja_c$J1SG6CC[midja_c$J1SG6CC==8]<-NA\nmidja_c$J1SG6DD[midja_c$J1SG6DD==8]<-NA\nmidja_c$J1SG6EE[midja_c$J1SG6EE==8]<-NA\n\nmidja_c$J2CAGE2 = (midja_c$J2CAGE)^2\n\n\nmidja_c$dias_adj = midja_c$J2CBPD23 + 5*(midja_c$J2MBPD==1)\nmidja_c$sys_adj = midja_c$J2CBPS23 + 10*(midja_c$J2MBPD==1)\nmidja_c$chol_adj = midja_c$J2BCHOL + 21.24*(midja_c$J2MCHD==1)\n\n\n\n\nmidja_cs <- with(midja_c,data.frame(MIDJA_IDS, sex=J1SQ1, age=s(J2CAGE), age2=s(J2CAGE2),\n                          Dominance=s(J1SAGENC),Extraversion=s(J1SEXTRA),Openness=s(J1SOPEN),\n                          Conscientiousness=s(J1SCONS2),Agreeableness=s(J1SAGREE),Neuroticism=s(J1SNEURO),\n                          BMI=s(J2CBMI),chol=s(J2BCHOL),creat=s(J2BSCREA),trig=s(J2CTRIG),\n                          sys=s(J2CBPS23),dias=s(J2CBPD23),\n                          tokyo_ch=s(J2CTCHOL),   # but also\n                          Outgoing=s(J1SG6A),Helpful=s(J1SG6B),Moody=s(J1SG6C),\n                          Organized=s(J1SG6D),Selfconfident=s(J1SG6E),Friendly=s(J1SG6F),\n                          Warm=s(J1SG6G),Worrying=s(J1SG6H),Responsible=s(J1SG6I),\n                          Forceful=s(J1SG6J),Lively=s(J1SG6K),Caring=s(J1SG6L),\n                          Nervous=s(J1SG6M),Creative=s(J1SG6N),Assertive=s(J1SG6O),\n                          Hardworking=s(J1SG6P),Imaginative=s(J1SG6Q),Softhearted=s(J1SG6R),\n                          Calm=s(J1SG6S),Outspoken=s(J1SG6T),Intelligent=s(J1SG6U),\n                          Curious=s(J1SG6V),Active=s(J1SG6W),Careless=s(J1SG6X),\n                          Broadminded=s(J1SG6Y),Sympathetic=s(J1SG6Z),Talkative=s(J1SG6AA),\n                          Sophisticated=s(J1SG6BB),Adventurous=s(J1SG6CC),Dominant=s(J1SG6DD),\n                          Thorough=s(J1SG6EE),\n                          sys_adj = s(sys_adj), dias_adj = s(dias_adj), chol_adj = s(chol_adj)\n                          ))\n\n                          \nmj.sys <- lm(sys ~ age + sex + BMI\n          + Dominance + Openness + Agreeableness + Conscientiousness + Neuroticism + Extraversion, data = midja_cs)\n                          \nmj.chol <- lm(chol ~ age + sex + BMI\n           + Dominance + Openness + Agreeableness + Conscientiousness + Neuroticism + Extraversion, data = midja_cs)              \nmj.to_chol <- lm(tokyo_ch ~ age + sex + BMI\n              + Dominance + Openness + Agreeableness + Conscientiousness + Neuroticism + Extraversion, data = midja_cs)   \n\nmj.trig <- lm(trig ~ age + sex + BMI\n              + Dominance + Openness + Agreeableness + Conscientiousness + Neuroticism + Extraversion, data = midja_cs)          \n\nmj.creat <- lm(creat ~ age + sex + BMI \n              + Dominance + Openness + Agreeableness + Conscientiousness + Neuroticism + Extraversion, data = midja_cs)          \n\nmj.dias <- lm(dias ~ age + sex + BMI\n                     + Dominance + Openness + Agreeableness + Conscientiousness + Neuroticism + Extraversion, data = midja_cs)\n\nmj.BMI <- lm(BMI ~ age + sex\n              + Dominance + Openness + Agreeableness + Conscientiousness + Neuroticism + Extraversion, data = midja_cs)\n\n\n### with age^2\n\nmj.sys.a2 <- lm(sys ~ age + I(age^2) + sex + BMI\n             + Dominance + Openness + Agreeableness + Conscientiousness + Neuroticism + Extraversion, data = midja_cs)\n\nmj.chol.a2 <- lm(chol ~ age + I(age^2) + sex + BMI\n              + Dominance + Openness + Agreeableness + Conscientiousness + Neuroticism + Extraversion, data = midja_cs)              \n\nmj.trig.a2 <- lm(trig ~ age + I(age^2) +  sex + BMI\n              + Dominance + Openness + Agreeableness + Conscientiousness + Neuroticism + Extraversion, data = midja_cs)          \n\nmj.creat.a2 <- lm(creat ~ age + I(age^2) + sex + BMI \n               + Dominance + Openness + Agreeableness + Conscientiousness + Neuroticism + Extraversion, data = midja_cs)          \n\nmj.dias.a2 <- lm(dias ~ age + I(age^2) + sex + BMI\n              + Dominance + Openness + Agreeableness + Conscientiousness + Neuroticism + Extraversion, data = midja_cs)\n\nmj.BMI.a2 <- lm(BMI ~ age + I(age^2) + sex\n             + Dominance + Openness + Agreeableness + Conscientiousness + Neuroticism + Extraversion, data = midja_cs)\n\n\n\n### coming out of SEMs\n\n\n\nmjAL.1 <- lm(AL ~ age + age2 + sex\n             + Dominance + Openness + Agreeableness + Conscientiousness + Neuroticism + Extraversion,\n             data = all3[all3$sample=='MIDJA',])\nsummary(mjAL.1)\n\n\nmjAL.2 <- lm(AL ~ age + age2 + sex\n             + Dominance + Openness + Agreeableness * Conscientiousness + Neuroticism + Extraversion,\n             data = all3[all3$sample=='MIDJA',])\nsummary(mjAL.2)\n\n\nAICctab(mjAL.1, mjAL.2,\n        weights=T, delta=T,base=T,logLik=T,sort=T\n)\n\n\n# make AVERAGE\nmidja_cs$AL = midja_cs$sys_adj + midja_cs$dias_adj + midja_cs$chol_adj + midja_cs$trig + midja_cs$BMI # these need medication adjustment\nmjALallItems.1 <- lm(AL ~ age + age2 + sex\n                     + Outgoing + Helpful + Moody + Organized + Selfconfident + Friendly + Warm + Worrying\n                     + Responsible + Forceful + Lively + Caring + Nervous + Creative + Assertive\n                     + Hardworking + Imaginative + Softhearted + Calm + Outspoken + Intelligent + Curious\n                     + Active + Careless + Broadminded + Sympathetic + Talkative + Sophisticated + Adventurous\n                     + Dominant + Thorough,\n                     data = midja_cs)\n\n\n# LASSOs\nlibrary(glmnet)\n\n\n\nalif = 0.1\n\nnetformJ = as.matrix(as.data.frame(lapply(midja_cs[complete.cases(midja_cs),], as.numeric)))\n\nnet.J = glmnet(netformJ[,c(2:4,18:48)], netformJ[,c(11,12,14:16)], # finish adj indices\n               family='mgaussian',standardize=T,\n               nlambda=1000, alpha = alif)\ncvnet.J = cv.glmnet(netformJ[,c(2:4,18:48)], netformJ[,c(11,12,14:16)],family='mgaussian',nfolds=100,alpha=alif)\nplot(cvnet.J)\n\ncoef(net.J,s=cvnet.J$lambda.min)\n\nnet.J.AL = glmnet(netformJ[,c(2:4,18:48)], netformJ[,c(52)],\n               family='gaussian',standardize=T,\n               nlambda=1000, alpha = alif)\ncvnet.J.AL = cv.glmnet(netformJ[,c(2:4,18:48)], netformJ[,c(52)],family='gaussian',nfolds=100,alpha=alif)\nplot(cvnet.J.AL)\n\ncoef(net.J.AL,s=cvnet.J.AL$lambda.min)\n\n\n",
    "created" : 1487346398912.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3676343471",
    "id" : "CB4FEBDF",
    "lastKnownWriteTime" : 1494844775,
    "last_content_update" : 1494844775,
    "path" : "C:/Users/s1229179/GitHub/R/Yerkes/Drew version/midjaRegs.R",
    "project_path" : "Drew version/midjaRegs.R",
    "properties" : {
    },
    "relative_order" : 11,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}