ci.VSU.all
fixef(jT.all)
ci.jT.all
gc()
summary(jT.3way)
## This one may be the only important one
interact_plot(lm(fWHR ~ Dom_CZ * Neu_CZ * Sex,
data=chFull[(chFull$Subspecies=='troglodytes'),])
, pred='Dom_CZ', modx='Neu_CZ', mod2='Sex', plot.points=TRUE)
?interact_plot
## This one may be the only important one
interact_plot(lm(fWHR ~ Dom_CZ * Neu_CZ * Sex,
data=chFull[(chFull$Subspecies=='troglodytes'),])
, pred='Dom_CZ', modx='Neu_CZ', mod2='Sex', plot.points=TRUE,
modx.labels = Neuroticism, x.label = Dominance
)
## This one may be the only important one
interact_plot(lm(fWHR ~ Dom_CZ * Neu_CZ * Sex,
data=chFull[(chFull$Subspecies=='troglodytes'),])
, pred='Dom_CZ', modx='Neu_CZ', mod2='Sex', plot.points=TRUE,
modx.labels = 'Neuroticism', x.label = 'Dominance'
)
## This one may be the only important one
interact_plot(lm(fWHR ~ Dom_CZ * Neu_CZ * Sex,
data=chFull[(chFull$Subspecies=='troglodytes'),])
, pred='Dom_CZ', modx='Neu_CZ', mod2='Sex', plot.points=TRUE,
modx.labels = c('Neuroticism','Sex'), x.label = 'Dominance'
)
## This one may be the only important one
colnames(chFUll)
## This one may be the only important one
colnames(chFull)
## This one may be the only important one
colnames(chFull)[5]
## This one may be the only important one
colnames(chFull)[19]
## This one may be the only important one
colnames(chFull)[19] = 'Neuroticism'
interact_plot(lm(fWHR ~ Dom_CZ * Neu_CZ * Sex,
data=chFull[(chFull$Subspecies=='troglodytes'),])
, pred='Dom_CZ', modx='Neu_CZ', mod2='Sex', plot.points=TRUE,
x.label = 'Dominance'
)
## This one may be the only important one
colnames(chFull)[19] = 'Neuroticism'
interact_plot(lm(fWHR ~ Dom_CZ * Neuroticism * Sex,
data=chFull[(chFull$Subspecies=='troglodytes'),])
, pred='Dom_CZ', modx='Neu_CZ', mod2='Sex', plot.points=TRUE,
x.label = 'Dominance'
)
## This one may be the only important one
colnames(chFull)[19] = 'Neuroticism'
interact_plot(lm(fWHR ~ Dom_CZ * Neuroticism * Sex,
data=chFull[(chFull$Subspecies=='troglodytes'),])
, pred='Dom_CZ', modx='Neuroticism', mod2='Sex', plot.points=TRUE,
x.label = 'Dominance'
)
interact_plot(lm(fWHR ~ Dom_CZ * Neuroticism * Sex,
data=chFull[(chFull$Subspecies=='troglodytes')&(chFull$ID!='Cordova'),])
, pred='Dom_CZ', modx='Neuroticism', mod2='Sex', plot.points=TRUE,
x.label = 'Dominance'
)
gc()
g <- ggplot(data=subset(chAgr, !(chAgr$verus=='other')),
aes(x=Dom, y=fWHR)) + geom_point() +
facet_grid(verus ~ Sex) +
stat_smooth(method='gam') +
theme_bw() + xlab('Dominance')
g
library(lme4)
library(lattice)
library(ggplot2)
library(jtools)
chAgr = chFP
## Aggreagate into individuals
chAgr$Sex = as.numeric(chAgr$Sex)
chAgr <- aggregate(chAgr[adults,], by=list(chAgr$ID[adults]), FUN=mean)
## Reattach subspecies
chAgr <- merge(chAgr[,c(1,8:26)],subsp[,c(1,2)], by.x='Group.1', by.y='Name')
colnames(chAgr)[1] <- 'ID'
plot(chAgr$fWHR ~ chAgr$Agr)
cor(chAgr$fWHR, chAgr$Dom)
chAgr$verus = 'other'
chAgr$verus[chAgr$Subspecies=='verus'] = 'verus'
chAgr$verus[chAgr$Subspecies=='troglodytes'] = 'troglodytes'
chAgr$Sex = as.factor(chAgr$Sex)
levels(chAgr$Sex) <- c('Female','Male')
g <- ggplot(data=subset(chAgr, !(chAgr$verus=='other')),
aes(x=Dom, y=fWHR)) + geom_point() +
facet_grid(verus ~ Sex) +
stat_smooth(method='gam') +
theme_bw() + xlab('Dominance')
g
View(chAgr)
dim(chFP.std)
gc()
save.image("E:/backup/VADW_chimpFWHR_workspace.RData")
library(alphahull)                                  # Exposes ashape()
install.packages("alphahull")
install.packages("alphahull")
library(alphahull)
library(tidyr)
library(foreign)
df.cats <- read.xlsx('Cat_facial_points.xlsx')
?readxl::
df.cats <- read_xlsx('Cat_facial_points.xlsx')
library(readxl)
df.cats <- read_xlsx('Cat_facial_points.xlsx')
View(df.cats)
df.cats1 <- separate(data = df.cats, col = A, into = c("A.x", "A.y"), sep = "\\,")
df.cats1 <- separate(data = df.cats, col = A, into = c("A.x", "A.y"), sep = "\\,")
df.cats1 <- separate(data = df.cats, col = B, into = c("B.x", "B.y"), sep = "\\,")
df.cats1 <- separate(data = df.cats, col = C, into = c("C.x", "C.y"), sep = "\\,")
df.cats1 <- separate(data = df.cats, col = D, into = c("D.x", "D.y"), sep = "\\,")
df.cats1 <- separate(data = df.cats, col = E, into = c("E.x", "E.y"), sep = "\\,")
colnames(df.cats1)
df.cats <- separate(data = df.cats, col = B, into = c("B.x", "B.y"), sep = "\\,")
df.cats <- read_xlsx('Cat_facial_points.xlsx')
df.cats <- separate(data = df.cats, col = A, into = c("A.x", "A.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = B, into = c("B.x", "B.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = C, into = c("C.x", "C.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = D, into = c("D.x", "D.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = E, into = c("E.x", "E.y"), sep = "\\,")
colnames(df.cats)
df.cats[,c(6:15)] <- as.numeric(unlist(df.cats1[,c(6:15)]))
df.cats[,c(6:15)] <- as.numeric(unlist(df.cats[,c(6:15)]))
tabl <- df.cats
View(tabl)
fWHR <- NULL
for (i in seq_len(dim(tabl)[1])){
#i = 38
points <- matrix(c(c(tabl$C.x[i], tabl$D.x[i], tabl$E.x[i], tabl$F.x[i], tabl$G.x[i]),
c(tabl$C.y[i], tabl$D.y[i], tabl$E.y[i], tabl$F.y[i], tabl$G.y[i]))
,nrow = 5, ncol = 2)
fWHR1[i] =   fWHR(points, i)
}
source('~/GitHub/R/fWHR/MBRtopEdge.R', echo=TRUE)
for (i in seq_len(dim(tabl)[1])){
#i = 38
points <- matrix(c(c(tabl$C.x[i], tabl$D.x[i], tabl$E.x[i], tabl$F.x[i], tabl$G.x[i]),
c(tabl$C.y[i], tabl$D.y[i], tabl$E.y[i], tabl$F.y[i], tabl$G.y[i]))
,nrow = 5, ncol = 2)
fWHR1[i] =   fWHR(points, i)
}
for (i in seq_len(dim(tabl)[1])){
#i = 38
points <- matrix(c(c(tabl$C.x[i], tabl$D.x[i], tabl$E.x[i], tabl$F.x[i], tabl$G.x[i]),
c(tabl$C.y[i], tabl$D.y[i], tabl$E.y[i], tabl$F.y[i], tabl$G.y[i]))
,nrow = 5, ncol = 2)
fWHR1[i] =   calcfWHR(points, i)
}
tabl <- df.cats
fWHR <- NULL
for (i in seq_len(dim(tabl)[1])){
#i = 38
points <- matrix(c(c(tabl$A.x[i], tabl$B.x[i], tabl$C.x[i], tabl$D.x[i], tabl$E.x[i]),
c(tabl$A.y[i], tabl$B.y[i], tabl$C.y[i], tabl$D.y[i], tabl$E.y[i]))
,nrow = 5, ncol = 2)
fWHR1[i] =   calcfWHR(points, i)
}
source('~/GitHub/R/fWHR/MBRtopEdge.R', echo=TRUE)
for (i in seq_len(dim(tabl)[1])){
#i = 38
points <- matrix(c(c(tabl$A.x[i], tabl$B.x[i], tabl$C.x[i], tabl$D.x[i], tabl$E.x[i]),
c(tabl$A.y[i], tabl$B.y[i], tabl$C.y[i], tabl$D.y[i], tabl$E.y[i]))
,nrow = 5, ncol = 2)
fWHR1[i] =   calcfWHR(points, i)
}
View(tabl)
df.cats <- read_xlsx('Cat_facial_points.xlsx')
library(alphahull)
library(readxl)
library(tidyr)
df.cats <- read_xlsx('Cat_facial_points.xlsx')
df.cats <- separate(data = df.cats, col = A, into = c("A.x", "A.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = B, into = c("B.x", "B.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = C, into = c("C.x", "C.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = D, into = c("D.x", "D.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = E, into = c("E.x", "E.y"), sep = "\\,")
df.cats[,c(6:15)] <- as.numeric(unlist(df.cats[,c(6:15)]))
tabl <- df.cats
fWHR <- NULL
for (i in seq_len(dim(tabl)[1])){
#i = 38
points <- matrix(c(c(tabl$A.x[i], tabl$B.x[i], tabl$C.x[i], tabl$D.x[i], tabl$E.x[i]),
c(tabl$A.y[i], tabl$B.y[i], tabl$C.y[i], tabl$D.y[i], tabl$E.y[i]))
,nrow = 5, ncol = 2)
fWHR1[i] =   calcfWHR(points, i)
}
?tri.mesh
?delvor
df.cats[df.cats=='NA'] = NA
tabl <- df.cats
fWHR <- NULL
for (i in seq_len(dim(tabl)[1])){
#i = 38
points <- matrix(c(c(tabl$A.x[i], tabl$B.x[i], tabl$C.x[i], tabl$D.x[i], tabl$E.x[i]),
c(tabl$A.y[i], tabl$B.y[i], tabl$C.y[i], tabl$D.y[i], tabl$E.y[i]))
,nrow = 5, ncol = 2)
fWHR1[i] =   calcfWHR(points, i)
}
View(tabl)
View(points)
tabl <- df.cats
fWHR <- NULL
for (i in seq_len(dim(tabl)[1])){
#i = 38
points <- matrix(c(c(tabl$A.x[i], tabl$B.x[i], tabl$C.x[i], tabl$D.x[i], tabl$E.x[i]),
c(tabl$A.y[i], tabl$B.y[i], tabl$C.y[i], tabl$D.y[i], tabl$E.y[i]))
,nrow = 5, ncol = 2)
fWHR[i] =   calcfWHR(points, i)
}
i = 38
points <- matrix(c(c(tabl$A.x[i], tabl$B.x[i], tabl$C.x[i], tabl$D.x[i], tabl$E.x[i]),
c(tabl$A.y[i], tabl$B.y[i], tabl$C.y[i], tabl$D.y[i], tabl$E.y[i]))
,nrow = 5, ncol = 2)
View(points\)
View(points)
ashape(points, alpha=1000)
?ashape
ashape(points, alpha=1000)
test= ashape(points, alpha=1000)
View(test)
plot(ashape)
test$edges
plot(test)
dim(tabl)
tabl <- df.cats
fWHR <- NULL
for (i in seq_len(dim(tabl)[1])){
points <- matrix(c(c(tabl$A.x[i], tabl$B.x[i], tabl$C.x[i], tabl$D.x[i], tabl$E.x[i]),
c(tabl$A.y[i], tabl$B.y[i], tabl$C.y[i], tabl$D.y[i], tabl$E.y[i]))
,nrow = 5, ncol = 2)
fWHR[i] =   calcfWHR(points, i)
}
i = 38
i = 1
points <- matrix(c(c(tabl$A.x[i], tabl$B.x[i], tabl$C.x[i], tabl$D.x[i], tabl$E.x[i]),
c(tabl$A.y[i], tabl$B.y[i], tabl$C.y[i], tabl$D.y[i], tabl$E.y[i]))
,nrow = 5, ncol = 2)
test= ashape(points, alpha=1000)
tabl$C.y = tabl$C.y[-is.na(tabl$C.y),]
tabl$C.y = tabl$C.y[!is.na(tabl$C.y),]
tabl = tabl[!is.na(tabl$C.y),]
fWHR <- NULL
for (i in seq_len(dim(tabl)[1])){
points <- matrix(c(c(tabl$A.x[i], tabl$B.x[i], tabl$C.x[i], tabl$D.x[i], tabl$E.x[i]),
c(tabl$A.y[i], tabl$B.y[i], tabl$C.y[i], tabl$D.y[i], tabl$E.y[i]))
,nrow = 5, ncol = 2)
fWHR[i] =   calcfWHR(points, i)
}
View(tabl)
tabl <- df.cats
tabl = tabl[!is.na(tabl$C.y),]
fWHR <- NULL
for (i in seq_len(dim(tabl)[1])){
points <- matrix(c(c(tabl$A.x[i], tabl$B.x[i], tabl$C.x[i], tabl$D.x[i], tabl$E.x[i]),
c(tabl$A.y[i], tabl$B.y[i], tabl$C.y[i], tabl$D.y[i], tabl$E.y[i]))
,nrow = 5, ncol = 2)
fWHR[i] =   calcfWHR(points, i)
}
i
i = 1
points <- matrix(c(c(tabl$A.x[i], tabl$B.x[i], tabl$C.x[i], tabl$D.x[i], tabl$E.x[i]),
c(tabl$A.y[i], tabl$B.y[i], tabl$C.y[i], tabl$D.y[i], tabl$E.y[i]))
,nrow = 5, ncol = 2)
test= ashape(points, alpha=1000)
test= calcfWHR(points,1)
i = 1
points <- matrix(c(c(tabl$A.x[i], tabl$B.x[i], tabl$C.x[i], tabl$D.x[i], tabl$E.x[i]),
c(tabl$A.y[i], tabl$B.y[i], tabl$C.y[i], tabl$D.y[i], tabl$E.y[i]))
,nrow = 5, ncol = 2)
# Analyze the convex hull edges
a <- ashape(points, alpha=1000)                 # One way to get a convex hull...
e <- a$edges[, 5:6] - a$edges[, 3:4]            # Edge directions
norms <- apply(e, 1, function(x) sqrt(x %*% x)) # Edge lengths
v <- diag(1/norms) %*% e                        # Unit edge directions
w <- cbind(-v[,2], v[,1])                       # Normal directions to the edges
# Find the MBR
vertices <- (points) [a$alpha.extremes, 1:2]    # Convex hull vertices
minmax <- function(x) c(min(x), max(x))         # Computes min and max
x <- apply(vertices %*% t(v), 2, minmax)        # Extremes along edges
vertices
df.cats[,c(6:15)] <- as.numeric(unlist(df.cats[,c(6:15)]))
df.cats <- read_xlsx('Cat_facial_points.xlsx')
df.cats <- separate(data = df.cats, col = A, into = c("A.x", "A.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = B, into = c("B.x", "B.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = C, into = c("C.x", "C.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = D, into = c("D.x", "D.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = E, into = c("E.x", "E.y"), sep = "\\,")
df.cats[,c(6:15)] <- as.numeric(unlist(df.cats[,c(6:15)]))
df.cats[df.cats=='NA'] = NA
df.cats[,c(6:15)] <- as.numeric(unlist(df.cats[,c(6:15)]))
df.cats[,c(6:15)] <- as.numeric(df.cats[,c(6:15)])
head(unlist(df.cats[,c(6:15)])))
head(unlist(df.cats[,c(6:15)]))
df.cats[,c(6:15)] = sapply([,c(6:15)], as.numeric)
df.cats[,c(6:15)] = sapply(df.cats[,c(6:15)], as.numeric)
tabl <- df.cats
tabl = tabl[!is.na(tabl$C.y),]
fWHR <- NULL
for (i in seq_len(dim(tabl)[1])){
points <- matrix(c(c(tabl$A.x[i], tabl$B.x[i], tabl$C.x[i], tabl$D.x[i], tabl$E.x[i]),
c(tabl$A.y[i], tabl$B.y[i], tabl$C.y[i], tabl$D.y[i], tabl$E.y[i]))
,nrow = 5, ncol = 2)
fWHR[i] =   calcfWHR(points, i)
}
df.cats <- read_xlsx('Cat_facial_points.xlsx')
df.cats <- separate(data = df.cats, col = A, into = c("A.x", "A.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = B, into = c("B.x", "B.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = C, into = c("C.x", "C.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = D, into = c("D.x", "D.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = E, into = c("E.x", "E.y"), sep = "\\,")
df.cats[df.cats=='NA'] = NA
df.cats[,c(6:15)] = sapply(df.cats[,c(6:15)], as.numeric)
tabl <- df.cats
tabl = tabl[!is.na(tabl$C.y),]
fWHR <- NULL
View(tabl)
tabl = tabl[!is.na(tabl$C.y),]
tabl = tabl[!is.na(tabl$C.y)]
View(tabl)
colnames(df.cats)
df.cats[,6:15] = sapply(df.cats[,6:15], as.numeric)
df.cats[,6:15] <- sapply(df.cats[,6:15], as.numeric)
head(sapply(df.cats[,6:15], as.numeric))
df.cats[,c(6:15)] <- sapply(df.cats[,6:15], as.numeric)
df.cats[,c(6:15)] <- sapply(df.cats[,c(6:15)], as.numeric)
head(sapply(df.cats[,c(6:15)], as.numeric))
df.cats <- read_xlsx('Cat_facial_points.xlsx')
df.cats <- separate(data = df.cats, col = A, into = c("A.x", "A.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = B, into = c("B.x", "B.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = C, into = c("C.x", "C.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = D, into = c("D.x", "D.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = E, into = c("E.x", "E.y"), sep = "\\,")
df.cats[df.cats=='NA'] = NA
df.cats[,c(6:15)] <- sapply(df.cats[,c(6:15)], as.numeric)
head(sapply(df.cats[,c(6:15)], as.numeric))
View(df.cats)
df.cats <- read_xlsx('Cat_facial_points.xlsx')
df.cats <- separate(data = df.cats, col = A, into = c("A.x", "A.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = B, into = c("B.x", "B.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = C, into = c("C.x", "C.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = D, into = c("D.x", "D.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = E, into = c("E.x", "E.y"), sep = "\\,")
df.cats[df.cats=='NA'] = NA
View(df.cats)
?sapply
df.cats[,c(6:15)] <- lapply(df.cats[,c(6:15)], as.numeric)
head(sapply(df.cats[,c(6:15)], as.numeric))
tabl <- df.cats
tabl = tabl[!is.na(tabl$C.y),]
fWHR <- NULL
View(tabl)
fWHR <- NULL
tabl = tabl[!is.na(tabl$C.y),]
for (i in seq_len(dim(tabl)[1])){
points <- matrix(c(c(tabl$A.x[i], tabl$B.x[i], tabl$C.x[i], tabl$D.x[i], tabl$E.x[i]),
c(tabl$A.y[i], tabl$B.y[i], tabl$C.y[i], tabl$D.y[i], tabl$E.y[i]))
,nrow = 5, ncol = 2)
fWHR[i] =   calcfWHR(points, i)
}
View(tabl)
gc()
library(psych)
cor.test(fwHRc[,1], fwHRc[,2])
plot(fwHRc[,1], fwHRc[,2])
t.test(fwHRc[,1], fwHRc[,2], paired=TRUE)
ICC(fwHRc)
?icc.reliability
?icc3.reliability
??icc3.reliability
library(alphahull)
library(readxl)
library(tidyr)
for (i in seq_len(dim(tabl)[1])){
points <- matrix(c(c(tabl$A.x[i], tabl$B.x[i], tabl$C.x[i], tabl$D.x[i], tabl$E.x[i]),
c(tabl$A.y[i], tabl$B.y[i], tabl$C.y[i], tabl$D.y[i], tabl$E.y[i]))
,nrow = 5, ncol = 2)
fWHR[i] =   calcfWHR(points, i)
}
source('~/GitHub/R/fWHR/MBRtopEdge.R', echo=TRUE)
for (i in seq_len(dim(tabl)[1])){
points <- matrix(c(c(tabl$A.x[i], tabl$B.x[i], tabl$C.x[i], tabl$D.x[i], tabl$E.x[i]),
c(tabl$A.y[i], tabl$B.y[i], tabl$C.y[i], tabl$D.y[i], tabl$E.y[i]))
,nrow = 5, ncol = 2)
fWHR[i] =   calcfWHR(points, i)
}
df.cats <- read_xlsx('Cat_facial_points.xlsx')
df.cats <- separate(data = df.cats, col = A, into = c("A.x", "A.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = B, into = c("B.x", "B.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = C, into = c("C.x", "C.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = D, into = c("D.x", "D.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = E, into = c("E.x", "E.y"), sep = "\\,")
df.cats[df.cats=='NA'] = NA
df.cats[,c(6:15)] <- lapply(df.cats[,c(6:15)], as.numeric)
head(sapply(df.cats[,c(6:15)], as.numeric))
tabl <- df.cats
tabl = tabl[!is.na(tabl$C.y),]
fWHR <- NULL
for (i in seq_len(dim(tabl)[1])){
points <- matrix(c(c(tabl$A.x[i], tabl$B.x[i], tabl$C.x[i], tabl$D.x[i], tabl$E.x[i]),
c(tabl$A.y[i], tabl$B.y[i], tabl$C.y[i], tabl$D.y[i], tabl$E.y[i]))
,nrow = 5, ncol = 2)
fWHR[i] =   calcfWHR(points, i)
}
#for (i in seq_len(dim(tabl)[1])){
for (i in 1:84){
points <- matrix(c(c(tabl$A.x[i], tabl$B.x[i], tabl$C.x[i], tabl$D.x[i], tabl$E.x[i]),
c(tabl$A.y[i], tabl$B.y[i], tabl$C.y[i], tabl$D.y[i], tabl$E.y[i]))
,nrow = 5, ncol = 2)
fWHR[i] =   calcfWHR(points, i)
}
df.cats <- read_xlsx('Cat_facial_points.xlsx')
df.cat.p <- read_xlsx('Personality(2017-11-12).xlsx')
View(df.cat.p)
# 08-02-2020 - Problem faces:
# 169, 146?, 139? |84| 77?, 73?, 36, 30?, 19, 13
chk1 = c(169, 146?, 139, 77, 73, 36, 30, 19, 13)
# 08-02-2020 - Problem faces:
# 169, 146?, 139? |84| 77?, 73?, 36, 30?, 19, 13
chk1 = c(169, 146, 139, 77, 73, 36, 30, 19, 13)
df.cats$`Unique Identifier`[chk1]
View(df.cats)
#for (i in seq_len(dim(tabl)[1])){
for (i in 1:200){
points <- matrix(c(c(tabl$A.x[i], tabl$B.x[i], tabl$C.x[i], tabl$D.x[i], tabl$E.x[i]),
c(tabl$A.y[i], tabl$B.y[i], tabl$C.y[i], tabl$D.y[i], tabl$E.y[i]))
,nrow = 5, ncol = 2)
fWHR[i] =   calcfWHR(points, i)
}
table[chk1,c('Unique identifier','photo')]
colnames(tabl)
tabl[chk1,c('Unique Identifier','Photo name')]
write.csv(tabl[chk1,c('Unique Identifier','Photo name')], 'Redo1cats.csv')
getwd()
colnames(df.cat.p)
View(df.cat.p)
View(df.cat.p[,c(60:69)])
gc()
head(df.cats)
df.cats <- read_xlsx('Cat_facial_points.xlsx')
df.cat.p <- read_xlsx('Personality(2017-11-12).xlsx')
library(alphahull)
library(readxl)
library(tidyr)
df.cats <- read_xlsx('Cat_facial_points.xlsx')
df.cat.p <- read_xlsx('Personality(2017-11-12).xlsx')
head(df.cats$`Submission Date`)
tail(df.cats$`Submission Date`)
df.cats$`Submission Date`
gc()
tabl[chk2,c('Unique Identifier','Photo name')]
chk2 = c(169, 36, 19, 13)
tabl[chk2,c('Unique Identifier','Photo name')]
library(alphahull)
library(readxl)
library(tidyr)
df.cats <- read_xlsx('Cat_facial_points.xlsx')
df.cat.p <- read_xlsx('Personality(2017-11-12).xlsx')
tabl[chk2,c('Unique Identifier','Photo name')]
chk2 = c(169, 36, 19, 13)
tabl[chk2,c('Unique Identifier','Photo name')]
df.cats <- separate(data = df.cats, col = A, into = c("A.x", "A.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = B, into = c("B.x", "B.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = C, into = c("C.x", "C.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = D, into = c("D.x", "D.y"), sep = "\\,")
df.cats <- separate(data = df.cats, col = E, into = c("E.x", "E.y"), sep = "\\,")
df.cats[df.cats=='NA'] = NA
df.cats[,c(6:15)] <- lapply(df.cats[,c(6:15)], as.numeric)
head(sapply(df.cats[,c(6:15)], as.numeric))
tabl <- df.cats
tabl = tabl[!is.na(tabl$C.y),]
tabl[chk2,c('Unique Identifier','Photo name')]
head(df.cat.p)
library(alphahull)
library(readxl)
library(tidyr)
df.cat.p <- read_xlsx('Personality(2017-11-12).xlsx')
head(df.cat.p)
colnames(df.cat.D)
colnames(df.cat.p)
colnames(df.cat.p)[19:64] = c('Active','Anxious','Bold','Bullying','Calm','Clumsy','Constrained',
'Cool','Cooperative','Curious','Decisive','Defiant','Deliberate',
'Distractible','Dominant','Eccentric','Erratic','Excitable','Fearful',
'Friendly','Gentle','Impulsive','Indep','Indiv','Inq','Insecure',
'Invent','Irrit','Jealous','Persever','Playful','Predict','Quit','Reck',
'Selfassured','Smart','Solitary','Stable','Stingy','Subm','Sus',
'Tense','Timid','Trust','Vigil','Vocal'
)
m.cat.D <-'
D =~ Dominant + Bullying + Gentle + Subm + Cooperative + Stingy + Jealous + Defiant
'
f.cat.D = cfa(m.cat.D, df.cat.p)
### Personality checks
library(lavaan)
f.cat.D = cfa(m.cat.D, df.cat.p)
?fitMeasures
fitMeasures(f.cat.D, c("chisq", "df", "pvalue", "cfi", "rmsea", "srmr"))
summary(f.cat.D)
m.cat.D <-'
D =~ Dominant + Bullying + Gentle + Subm + Cooperative #+ Stingy + Jealous + Defiant
'
f.cat.D = cfa(m.cat.D, df.cat.p)
fitMeasures(f.cat.D, c("chisq", "df", "pvalue", "cfi", "rmsea", "srmr"))
summary(f.cat.D)
m.cat.D <-'
D =~ Dominant + Bullying + Subm + Cooperative #+ Gentle + Stingy + Jealous + Defiant
'
f.cat.D = cfa(m.cat.D, df.cat.p)
fitMeasures(f.cat.D, c("chisq", "df", "pvalue", "cfi", "rmsea", "srmr"))
summary(f.cat.D)
