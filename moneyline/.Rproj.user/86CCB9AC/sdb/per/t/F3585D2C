{
    "contents" : "### team vs. team match-up analysis approach\n#\n\n\nkp14 <- cbind.data.frame(kp14, result=bracket14$Round.1.Results)\n\n\n# this needs to use the unreordered... order\n# to preserve matchings\n\nkp14 <- kp14[match(order14,kp14$Team),]\n\n### now to compute differences\n\nvictDiffs14 <- NULL\n\nfor (i in seq(1,dim(kp14)[1],2)){\n  if (kp14$result[i] == 'W'){\n    kpdat = kp14[i,5:21]-kp14[i+1,5:21]\n    vdrow = cbind.data.frame(winner=kp14$Team[i], loser=kp14$Team[i+1],kpdat)\n  }\n  else {\n    kpdat = kp14[i+1,5:21]-kp14[i,5:21]\n    vdrow = cbind.data.frame(winner=kp14$Team[i+1], loser=kp14$Team[i],kpdat)\n  }\n  \n  victDiffs14 <- rbind.data.frame(victDiffs14, vdrow)\n  \n}\n\n\n### some t-tests to see if any of these difference vars differ from null, and by how much\n\n# \nt.test(victDiffs14$Pyth) # p < 0.00005\ncohensD(victDiffs14$Pyth) # 0.844\n\nt.test(victDiffs14$AdjO) # p < 0.0002 \ncohensD(victDiffs14$AdjO) # 0.772\n\nt.test(victDiffs14$AdjD) # p < 0.01\ncohensD(victDiffs14$AdjD) # 0.489\n\nt.test(victDiffs14$AdjT) # p = 0.111    \n#cohensD(victDiffs14$AdjT)\n\nt.test(victDiffs14$Luck) # p = 0.9434 ... surprise fucking surprise\n\nt.test(victDiffs14$SoS.Pyth) # p < 0.01\ncohensD(victDiffs14$SoS.Pyth) # 0.506\n\nt.test(victDiffs14$OppO) # p < 0.005\ncohensD(victDiffs14$OppO)\n    \nt.test(victDiffs14$OppD) # p < 0.05\ncohensD(victDiffs14$OppD)\n\nt.test(victDiffs14$NCSoS.Pyth) # p = 0.9116\n\n\n### now model pairwise victory with a glm\n#     select the lower team, and subtract the first\n#     will help pick out some upsets (?)\n\n\nkpDiffs14 <- NULL\n\nfor (i in seq(1,dim(kp14)[1],2)){\n  kpdat = kp14[i+1,5:21]-kp14[i,5:21]\n  vdrow = cbind.data.frame(ref.team=kp14$Team[i+1], opponent=kp14$Team[i],kpdat,result=kp14$result[i+1])\n    \n  kpDiffs14 <- rbind.data.frame(kpDiffs14, vdrow)\n  \n}\n\ngm.diff <- glm(result ~ Pyth + AdjO + AdjD + AdjT + SoS.Pyth + OppO + OppD + NCSoS.Pyth, data = kpDiffs14, family = \"binomial\")\n\ngm.diff.sp <- step(gm.diff)\n\ngm.diff2 <- glm(result ~ Pyth + AdjO + AdjD + SoS.Pyth + OppO, data = kpDiffs14, family = \"binomial\")\n\n\n\n\n# 2013\n\nkp13 <- cbind.data.frame(kp13, result=bracket13$Round.1.Results)\n\n\n# this needs to use the unreordered... order\n# to preserve matchings\n\nkp13 <- kp13[match(order13,kp13$Team),]\n\n### now to compute differences\n\nvictDiffs13 <- NULL\n\nfor (i in seq(1,dim(kp13)[1],2)){\n  if (kp13$result[i] == 'W'){\n    kpdat = kp13[i,5:21]-kp13[i+1,5:21]\n    vdrow = cbind.data.frame(winner=kp13$Team[i], loser=kp13$Team[i+1],kpdat)\n  }\n  else {\n    kpdat = kp13[i+1,5:21]-kp13[i,5:21]\n    vdrow = cbind.data.frame(winner=kp13$Team[i+1], loser=kp13$Team[i],kpdat)\n  }\n  \n  victDiffs13 <- rbind.data.frame(victDiffs13, vdrow)\n  \n}\n\nkpDiffs13 <- NULL\n\nfor (i in seq(1,dim(kp13)[1],2)){\n  kpdat = kp13[i+1,5:21]-kp13[i,5:21]\n  vdrow = cbind.data.frame(ref.team=kp13$Team[i+1], opponent=kp13$Team[i],kpdat,result=kp13$result[i+1])\n  \n  kpDiffs13 <- rbind.data.frame(kpDiffs13, vdrow)\n  \n}\n\ngm.diff13 <- glm(result ~ Pyth + AdjO + AdjD + AdjT + SoS.Pyth + OppO + OppD + NCSoS.Pyth, data = kpDiffs13, family = \"binomial\")\n\ngm.diff13.sp <- step(gm.diff13)\n\n#gm.diff2 <- glm(result ~ Pyth + AdjO + AdjD + SoS.Pyth + OppO, data = kpDiffs14, family = \"binomial\")\n\n\n\nt.test(victDiffs13$Pyth) # p < 0.005\ncohensD(victDiffs13$Pyth)\n",
    "created" : 1425552186486.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2820459257",
    "id" : "F3585D2C",
    "lastKnownWriteTime" : 1425582674,
    "path" : "C:/Users/s1229179/git-repos/R/moneyline/matchup.R",
    "project_path" : "matchup.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}